WEB2 - DNS(Domain Name System)

ip address - host가 통신하기 위해 필요한 것, 한대의 이름

통신하기 위해서는 ip address가 필요하지만 이 ip를 외우기가
힘들어서 나온 것이 DNS이다.

client 가 DNS Server로 주소를 입력하면 server에서는 ip를 알려주고
비로소 client는 ip를 받아서 서버로 접속할 수 있다.

ip주소가 무엇인가?
도메인을 구현하는 것이 어렵기 때문에
배우기 전에 도메인 대신에 쓸 수 있는 방법?

host - 인터넷에 연결된 컴퓨터
hosts파일에 해당 아이피를 입력하면 클라이언트에 아이피 알려주고
접속하게끔 도와준다.

hosts wikipedia 입력후 운영체제별로 host파일의 위치를 알 수 있다.
93.184.216.34 example.com
이런식으로 서버, 클라이언트 둘다 hosts파일을 수정해주면된다.

인터넷 상의 보안 이야기
hosts파일을 수정해서 자신이 만든 웹 서버로 해커가 유도하는데
가장 무서운 점은 원래의 사이트와 가장 유사한 사이트로 만들어서
돈을 유도하고 빼앗아갈 수 있다. 이런 것을 피싱이라고 한다.
https에서 s는 secure의 안전하고 암호화된 것이라고 생각하면 된다.
--------------------------------------------------------------------
dns를 보기 이전의 상황?
기존에는 Standford Research Institue가 host를 전부 관리했었다.
원래는 SRI에 요청을 해야  ip->example.com 이런식으로 등록을 해주었고,
그리고 SRI에서 hosts파일을 다운로드 받아서 사용했었다.
그래서 다운로드 전에는 갱신된 홈페이지를 사용할 수 없었다는 단점이 있었다.
그리고 등록과정에서 비용과 시간이 들었다. 그리고 하나의 컴퓨터에 
주소들이 저장되면 한계가 있다는 문제가 있었었다.


첫째로 example.com을 치면 hosts파일을 보고
없으면 example.com의 ip가 뭐냐고 물어보고 dns server가
응답해주고 해당 아이피로 접속하게 되고 통신하게 된다.
--------------------------------------------------------------------
public DNS?

컴퓨터가 인터넷을 연결하면 ISP(Internet Service Provider)(ex.. 통신사)가 
우리의 컴퓨터가 도메인을 물어봤을때 사용할 Domain Name System Server로
자동으로 셋팅하도록 되어있다. 반대로 통신사가 우리의 컴퓨터가 접속한
인터넷 목록을 열람할 수 있다. public DNs List를 치면 여러가지 목록이 나오는데 
설정으로 DNS를 바꾸면 해당 DNS Server로 설정해서 사용할 수 있다.

https://1.1.1.1를 들어가서 확인할 수 있다.
1.1.1.1가 아시아와 공공기관이 협력해서 만든 public DNS


예를들어 blog.example.com. 이라는 주소가 있다고 치면
.은 root도메인 com은 Top-level, example은 second-level, blog는 sub인데
각각의 도메인을 관리하는 DNS server가 있다.
그중 Root는 그 하위인 Top-level담당하는 서버를 알고,
top은 second를 알아야한다. 하지만 root는 second를 알지 못하고,
직속 하위부서만 알수 있다.

모든 컴퓨터는 root name server의 아이피 주소를 알고 있어야한다.
blog.example.com.를 조회하려면 root name server에 com을 알고있는
top-level에게 가고, example를 알려주고, second에서 blog를 알 수 있다.
--------------------------------------------------------------------
DNS는 행정적인 면이고 행정적인 것을 자동화하기위한 기술적인 면이 필요한 것이다.

dns가 동작하는 과정은 해당 폴더 Web2-DNS 살펴보기
---------------------------------------------------------------------
nslookup

dig - 윈도우에서 x 

캐시 - 한 번 조회한 주소를 기억하여 참조하게 되는 것 

freenom.com 사이트에서 도메인 대행자를 사용한다.
top-level도메인에 대해서 1년동안 사용하게 해준다.


Who-is-Yongho.tk
52.231.14.171

a주소는 도메인으로 서버의 아이피를 알려준다.
cname 은 도메인을 다른 도메인으로 알려주는 것.

github에게 dns44uu.ga를 알려주고
dns server에게 dns44uu.ga는 어떤 컴퓨터를 가르켜야하는가를 셋팅해야함

앞으로의 공부 운영 방침.!!
직접 네임서버를 운영도 가능하다.
BIND 최초의 dns server

dns server를 제공하는 여러 정책
내 컴퓨터를 알려주는 로컬 dns 서버
서버의 아이피를 알려주는 dns 서버까지!

여러 서비스를 비교해보고 어떤 것이 나와 맞는지 비교해보기!

집으로 오는 아이피는 변경되고 노트북은 더욱 자주 변경됨
Dynamic DNS를 이용됨 서버가 설치된 컴퓨터의 아이피가 변경시
도메인 네임을 관리하는 dns 서버에게 변경된 아이피가 전달
도메인 네임을 이용해여 컴퓨터에 접속 하기때문에
끊김을 최소화해서 아이피가 변경되는 환경에서도 이용 가능하다.
http가 아닌 https를 사용함으로써 우리의 사이트를 누군가 사용하는
피싱을 차단할 수 있다.
SSL은 인증서를 발급 받는데 사용자가 위조된 사이트를 방문할 때
사용자에게 강력한 경고문을 보낼 수 있다.







